"use strict";(self.webpackChunkreact_kbzda_1=self.webpackChunkreact_kbzda_1||[]).push([[696],{4696:function(e,s,t){t.r(s),t.d(s,{default:function(){return L}});var n=t(1413),i=t(5671),r=t(3144),o=t(136),a=t(7277),l=t(2791),u=t(8687),c=t(81),d="MyPost_posts_block__pd08z",h="MyPost_posts__hFu9R",p="MyPost_post__error__mIlwQ",f="MyPost_btn__9xWv0",x="Post_item__Yu4oG",j=t(184),m=function(e){return(0,j.jsxs)("div",{className:x,children:[(0,j.jsx)("img",{src:"https://i.ytimg.com/vi/6C9PDnU6QI0/maxresdefault.jpg",alt:"avatar"}),e.message,(0,j.jsx)("div",{children:(0,j.jsxs)("span",{children:["Like ",e.likeCount," "]})})]})},v=t(5705),b=t(2947),g=function(e){return(0,j.jsx)(v.J9,{initialValues:{newMessageBody:""},onSubmit:function(s,t){var n,i=t.resetForm;n=s.newMessageBody,e.sendMessage(n),i()},validationSchema:b.O,children:function(e){var s=e.errors,t=e.touched;return(0,j.jsxs)(v.l0,{children:[(0,j.jsxs)("div",{children:[(0,j.jsx)(v.gN,{name:"newMessageBody",as:"textarea",placeholder:"enter text"}),s.newMessageBody&&t.newMessageBody?(0,j.jsx)("div",{className:p,children:s.newMessageBody}):null]}),(0,j.jsx)("button",{className:f,type:"submit",children:"Send2"})]})}})},_=function(e){var s=e.postData.map((function(e){return(0,j.jsx)(m,{message:e.message,likeCount:e.likeCount},e.id)}));return(0,j.jsxs)("div",{className:d,children:[(0,j.jsx)("h3",{children:"My posts"}),(0,j.jsx)(g,{sendMessage:e.addPost}),(0,j.jsx)("div",{className:h,children:s})]})},P=l.memo(_),y=(0,u.$j)((function(e){return{postData:e.profilePage.postData,newPostText:e.profilePage.newPostText}}),{addPost:c.Nw.addPostActionCreator})(P),k=t(9439),N=t(3445),M="ProfileInfo_description_block__4fNv1",S="ProfileInfo_mainPhoto__QU8TO",Z="ProfileInfo_contact__sQB8W",w="ProfileInfo_profileInfo__QG8TK",A="ProfileInfo_profileJob__nLU0G",I=function(e){var s=(0,l.useState)(!1),t=(0,k.Z)(s,2),n=t[0],i=t[1],r=(0,l.useState)(e.status),o=(0,k.Z)(r,2),a=o[0],u=o[1];(0,l.useEffect)((function(){u(e.status)}),[e.status]);return(0,j.jsxs)("div",{children:[!n&&(0,j.jsxs)("div",{children:[(0,j.jsx)("b",{children:"Status: "}),(0,j.jsx)("span",{onClick:function(){i(!0)},children:e.status||"------"})]}),n&&(0,j.jsx)("div",{children:(0,j.jsx)("input",{onChange:function(e){u(e.currentTarget.value)},autoFocus:!0,onBlur:function(){i(!1),e.updateStatus(a)},value:a})})]})},C=t(7692),F=function(e){var s=e.contactTitle,t=e.contactValue;return(0,j.jsxs)("div",{className:Z,children:[(0,j.jsxs)("i",{children:[s,": "]}),t]})},J=function(e){var s=e.profile,t=e.isOwner,n=e.goToEditMode;return(0,j.jsxs)("div",{children:[t&&(0,j.jsx)("div",{children:(0,j.jsx)("button",{onClick:n,children:"Edit"})}),(0,j.jsxs)("div",{className:w,children:[(0,j.jsxs)("div",{className:A,children:[(0,j.jsx)("b",{children:"Full name: "}),s.fullName]}),(0,j.jsxs)("div",{className:A,children:[(0,j.jsx)("b",{children:"Looking for a job: "})," ",s.lookingForAJob?"yes":"no"]}),s.lookingForAJob&&(0,j.jsxs)("div",{className:A,children:[(0,j.jsx)("b",{children:"My professional skills: "}),s.lookingForAJobDescription]}),(0,j.jsxs)("div",{children:[(0,j.jsx)("b",{children:"About me:"}),s.aboutMe]})]}),(0,j.jsxs)("div",{className:w,children:[(0,j.jsx)("b",{children:"My contacts: "}),Object.keys(s.contacts).map((function(e){return(0,j.jsx)(F,{contactTitle:e,contactValue:s.contacts[e]},e)}))]})]})},B="ProfileDataForm_form__bHJUz",D=t(2797),O=D.Ry({fullName:D.Z_().required("Name is required"),lookingForAJobDescription:D.Z_().required("Field is required").max(100,"Exceeded maximum number of characters"),aboutMe:D.Z_().required("Field is required").max(100,"Exceeded maximum number of characters")}),T=function(e){var s=e.onSubmit;return(0,j.jsx)(v.J9,{initialValues:e.profile,onSubmit:s,validationSchema:O,children:function(){return(0,j.jsxs)(v.l0,{className:B,children:[(0,j.jsx)("div",{children:(0,j.jsx)("button",{type:"submit",children:"Save"})}),(0,j.jsxs)("div",{children:[(0,j.jsxs)("label",{children:[(0,j.jsx)("b",{children:"Full name:"}),(0,j.jsx)(v.gN,{as:"input",type:"text",name:"fullName",placeholder:"Name"}),(0,j.jsx)(v.Bc,{name:"fullName",component:"div"})]}),(0,j.jsxs)("label",{children:[(0,j.jsx)("b",{children:"Looking for a job:"}),(0,j.jsx)(v.gN,{type:"checkbox",name:"lookingForAJob"})]}),(0,j.jsxs)("label",{children:[(0,j.jsx)("b",{children:"My professional skills:"}),(0,j.jsx)(v.gN,{as:"textarea",name:"lookingForAJobDescription",placeholder:"My professional skills"}),(0,j.jsx)(v.Bc,{name:"lookingForAJobDescription",component:"div"})]}),(0,j.jsxs)("label",{children:[(0,j.jsx)("b",{children:"About me:"}),(0,j.jsx)(v.gN,{as:"textarea",name:"aboutMe",placeholder:"About me"}),(0,j.jsx)(v.Bc,{name:"aboutMe",component:"div"})]}),(0,j.jsxs)("div",{children:[(0,j.jsx)("b",{children:"Contacts:"}),(0,j.jsx)("ul",{children:Object.keys(e.profile.contacts).map((function(e){return(0,j.jsx)("li",{children:(0,j.jsxs)("label",{children:[(0,j.jsxs)("b",{children:[e,":"]}),(0,j.jsx)(v.gN,{as:"input",type:"text",name:"contacts."+e,placeholder:e})]})},e)}))})]})]})]})}})},U=function(e){var s=e.profile,t=e.savePhoto,n=e.isOwner,i=e.status,r=e.updateStatus,o=e.saveProfile,a=(0,l.useState)(!1),u=(0,k.Z)(a,2),c=u[0],d=u[1];if(!s)return(0,j.jsx)(N.Z,{});return(0,j.jsxs)("div",{children:[(0,j.jsx)("div",{children:(0,j.jsx)("img",{src:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcR4YWwJaZ79oIELX6C7q_QtBT3Doab4yGxcvQ&usqp=CAU",alt:"hz"})}),(0,j.jsxs)("div",{className:M,children:[(0,j.jsxs)("div",{className:w,children:[(0,j.jsx)("img",{src:s.photos.small||C,alt:"avatar",className:S}),n&&(0,j.jsx)("input",{type:"file",onChange:function(e){var s;null!==(s=e.target.files)&&void 0!==s&&s.length&&t(e.target.files[0])}}),(0,j.jsx)(I,{status:i,updateStatus:r})]}),c?(0,j.jsx)(T,{profile:s,onSubmit:function(e){o(e).then((function(){d(!1)})).catch((function(){alert("Invalid url format")}))}}):(0,j.jsx)(J,{profile:s,isOwner:n,goToEditMode:function(){d(!0)}})]})]})},q=function(e){return(0,j.jsxs)("div",{children:[(0,j.jsx)(U,{profile:e.profile,status:e.status,updateStatus:e.updateStatus,isOwner:e.isOwner,savePhoto:e.savePhoto,saveProfile:e.saveProfile}),(0,j.jsx)(y,{})]})},z=t(7689),E=t(2932),Q=t(7781),G=function(e){(0,o.Z)(t,e);var s=(0,a.Z)(t);function t(){return(0,i.Z)(this,t),s.apply(this,arguments)}return(0,r.Z)(t,[{key:"refreshProfile",value:function(){var e=this.props.router.params.userId;e||(e=this.props.authorizedUserId)||this.props.history.push("/login"),this.props.getUserProfile(e),this.props.getStatus(e)}},{key:"componentDidMount",value:function(){this.refreshProfile()}},{key:"componentDidUpdate",value:function(e,s,t){this.props.router.params.userId!==e.router.params.userId&&this.refreshProfile()}},{key:"render",value:function(){return(0,j.jsx)(q,(0,n.Z)((0,n.Z)({},this.props),{},{isOwner:!this.props.router.params.userId,profile:this.props.profile,status:this.props.status,updateStatus:this.props.updateStatus,savePhoto:this.props.savePhoto}))}}]),t}(l.Component);var L=(0,Q.qC)((0,u.$j)((function(e){return{profile:e.profilePage.profile,status:e.profilePage.status,isAuth:e.auth.isAuth,authorizedUserId:e.auth.userId}}),{getUserProfile:c.et,getStatus:c.lR,updateStatus:c.Nf,savePhoto:c.Ju,saveProfile:c.Ii}),(function(e){return function(s){var t=(0,z.TH)(),i=(0,z.s0)(),r=(0,z.UO)();return(0,j.jsx)(e,(0,n.Z)((0,n.Z)({},s),{},{router:{location:t,navigate:i,params:r}}))}}),E.Z)(G)},2932:function(e,s,t){var n=t(1413),i=t(5987),r=(t(2791),t(7689)),o=t(8687),a=t(184),l=["isAuth"],u=function(e){return{isAuth:e.auth.isAuth}};s.Z=function(e){return(0,o.$j)(u,{})((function(s){var t=s.isAuth,o=(0,i.Z)(s,l);return t?(0,a.jsx)(e,(0,n.Z)({},o)):(0,a.jsx)(r.Fg,{to:"/login"})}))}}}]);
//# sourceMappingURL=696.675a9a68.chunk.js.map